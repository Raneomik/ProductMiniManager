<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>{% block title %}Mini product manager{% endblock %}</title>
    {% block stylesheets %}
        <link rel="stylesheet" href="{{ asset('build/css/app.css') }}">
    {% endblock %}
</head>
<body>
{% set current_locale = app.request.attributes.get('_locale') %}
{% block header %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href={{ path('product_list') }}>{{ 'home'|trans }}</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-collapse collapse w-100 order-3 dual-collapse2" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        {{ current_locale }}
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        {% for locale in available_locales() %}
                            {% set localised_link = path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge({ '_locale' : locale })) %}
                            <a class="dropdown-item {{ current_locale == locale ? 'active' : '' }}"
                               href={{ localised_link }}>
                                {{ locale }}
                            </a>
                        {% endfor %}
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href={{ path('shopping_cart') }}>{{ 'cart.name'|trans }}
                        <span class="fa-stack fa-1x">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <strong class="fa-stack-1x text-white">
                                {{ total_cart_item_number() }}
                            </strong>
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
{% endblock %}
<div class="container">
    {% block body %}{% endblock %}
</div>

{% block javascripts %}
    <script src="{{ asset('build/js/app.js') }}"></script>
    <script src="{{ asset('build/js/runtime.js') }}"></script>
{% endblock %}
</body>
</html>
